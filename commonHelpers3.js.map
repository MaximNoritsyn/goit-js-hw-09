{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-promises.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst form = document.querySelector(\".form\")\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({position, delay});\n      } else {\n        reject({position, delay});\n      }\n    }, delay);\n  });\n}\n\nfunction sendIziToast(text, type) {\n  iziToast[type]({\n    message: text,\n    position: \"topRight\",\n    transitionIn: 'fadeInDown'\n  });\n}\n\nfunction sendSuccess({ position, delay }) {\n  sendIziToast(`✅ Fulfilled promise ${position} in ${delay}ms`, \"success\");\n}\n  \nfunction sendError({ position, delay }) {\n  sendIziToast(`❌ Rejected promise ${position} in ${delay}ms`, \"error\");\n}\n  \n\nconst submitHandler = (event) => {\n  event.preventDefault();\n  const formData = new FormData(event.target);\n  const delay = formData.get(\"delay\");\n  const step = formData.get(\"step\");\n  const amount = formData.get(\"amount\");\n  let currentDelay = Number(delay);\n  for (let i = 1; i <= amount; i++) {\n    createPromise(i, currentDelay).then(sendSuccess).catch(sendError);\n    currentDelay += Number(step);\n  }\n  event.target.reset();\n}\n\nform.addEventListener(\"submit\", submitHandler);\n"],"names":["form","createPromise","position","delay","shouldResolve","resolve","reject","sendIziToast","text","type","iziToast","sendSuccess","sendError","submitHandler","event","formData","step","amount","currentDelay","i"],"mappings":"wIAGA,MAAMA,EAAO,SAAS,cAAc,OAAO,EAE3C,SAASC,EAAcC,EAAUC,EAAO,CACtC,MAAMC,EAAgB,KAAK,OAAM,EAAK,GACtC,OAAO,IAAI,QAAQ,CAACC,EAASC,IAAW,CACtC,WAAW,IAAM,CACXF,EACFC,EAAQ,CAAC,SAAAH,EAAU,MAAAC,CAAK,CAAC,EAEzBG,EAAO,CAAC,SAAAJ,EAAU,MAAAC,CAAK,CAAC,CAE3B,EAAEA,CAAK,CACZ,CAAG,CACH,CAEA,SAASI,EAAaC,EAAMC,EAAM,CAChCC,EAASD,GAAM,CACb,QAASD,EACT,SAAU,WACV,aAAc,YAClB,CAAG,CACH,CAEA,SAASG,EAAY,CAAE,SAAAT,EAAU,MAAAC,GAAS,CACxCI,EAAa,uBAAuBL,QAAeC,MAAW,SAAS,CACzE,CAEA,SAASS,EAAU,CAAE,SAAAV,EAAU,MAAAC,GAAS,CACtCI,EAAa,sBAAsBL,QAAeC,MAAW,OAAO,CACtE,CAGA,MAAMU,EAAiBC,GAAU,CAC/BA,EAAM,eAAc,EACpB,MAAMC,EAAW,IAAI,SAASD,EAAM,MAAM,EACpCX,EAAQY,EAAS,IAAI,OAAO,EAC5BC,EAAOD,EAAS,IAAI,MAAM,EAC1BE,EAASF,EAAS,IAAI,QAAQ,EACpC,IAAIG,EAAe,OAAOf,CAAK,EAC/B,QAASgB,EAAI,EAAGA,GAAKF,EAAQE,IAC3BlB,EAAckB,EAAGD,CAAY,EAAE,KAAKP,CAAW,EAAE,MAAMC,CAAS,EAChEM,GAAgB,OAAOF,CAAI,EAE7BF,EAAM,OAAO,OACf,EAEAd,EAAK,iBAAiB,SAAUa,CAAa"}