{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-promises.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst form = document.querySelector(\".form\")\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  if (shouldResolve) {\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        resolve({position, delay})\n      }, delay)\n    }, delay)\n  } else {\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        reject({position, delay})\n      }, delay)\n    }, delay)\n  }\n}\n\nfunction sendIziToast(text, type) {\n  iziToast[type]({\n    message: text,\n    position: \"topRight\",\n    transitionIn: 'fadeInDown'\n  });\n}\n\nfunction sendSuccess({ position, delay }) {\n  sendIziToast(`✅ Fulfilled promise ${position} in ${delay}ms`, \"success\");\n}\n  \nfunction sendError({ position, delay }) {\n  sendIziToast(`❌ Rejected promise ${position} in ${delay}ms`, \"error\");\n}\n  \n\nconst submitHandler = (event) => {\n  event.preventDefault();\n  const formData = new FormData(event.target);\n  const delay = formData.get(\"delay\");\n  const step = formData.get(\"step\");\n  const amount = formData.get(\"amount\");\n  let currentDelay = Number(delay);\n  for (let i = 1; i <= amount; i++) {\n    createPromise(i, currentDelay).then(sendSuccess).catch(sendError);\n    currentDelay += Number(step);\n  }\n}\n\nform.addEventListener(\"submit\", submitHandler);\n"],"names":["form","createPromise","position","delay","resolve","reject","sendIziToast","text","type","iziToast","sendSuccess","sendError","submitHandler","event","formData","step","amount","currentDelay","i"],"mappings":"wIAGA,MAAMA,EAAO,SAAS,cAAc,OAAO,EAE3C,SAASC,EAAcC,EAAUC,EAAO,CAEtC,OADsB,KAAK,OAAM,EAAK,GAE7B,IAAI,QAAQ,CAACC,EAASC,IAAW,CACtC,WAAW,IAAM,CACfD,EAAQ,CAAC,SAAAF,EAAU,MAAAC,CAAK,CAAC,CAC1B,EAAEA,CAAK,CACT,EAAEA,CAAK,EAED,IAAI,QAAQ,CAACC,EAASC,IAAW,CACtC,WAAW,IAAM,CACfA,EAAO,CAAC,SAAAH,EAAU,MAAAC,CAAK,CAAC,CACzB,EAAEA,CAAK,CACT,EAAEA,CAAK,CAEZ,CAEA,SAASG,EAAaC,EAAMC,EAAM,CAChCC,EAASD,GAAM,CACb,QAASD,EACT,SAAU,WACV,aAAc,YAClB,CAAG,CACH,CAEA,SAASG,EAAY,CAAE,SAAAR,EAAU,MAAAC,GAAS,CACxCG,EAAa,uBAAuBJ,QAAeC,MAAW,SAAS,CACzE,CAEA,SAASQ,EAAU,CAAE,SAAAT,EAAU,MAAAC,GAAS,CACtCG,EAAa,sBAAsBJ,QAAeC,MAAW,OAAO,CACtE,CAGA,MAAMS,EAAiBC,GAAU,CAC/BA,EAAM,eAAc,EACpB,MAAMC,EAAW,IAAI,SAASD,EAAM,MAAM,EACpCV,EAAQW,EAAS,IAAI,OAAO,EAC5BC,EAAOD,EAAS,IAAI,MAAM,EAC1BE,EAASF,EAAS,IAAI,QAAQ,EACpC,IAAIG,EAAe,OAAOd,CAAK,EAC/B,QAASe,EAAI,EAAGA,GAAKF,EAAQE,IAC3BjB,EAAciB,EAAGD,CAAY,EAAE,KAAKP,CAAW,EAAE,MAAMC,CAAS,EAChEM,GAAgB,OAAOF,CAAI,CAE/B,EAEAf,EAAK,iBAAiB,SAAUY,CAAa"}